@using Microsoft.AspNetCore.Identity
@inject UserManager<ApplicationUser> userManager
@model ErrorHandling

@{
    var cUser = await userManager.GetUserAsync(User);
    var Balance = cUser.Balance;
}
<body>
    <div class="tile is-ancestor" style="margin-left: 15px; margin-right: 15px; margin-top: 10px;">
        <div class="tile is-vertical is-parent is-12">
            <div class="tile">
                <article class="tile is-child notification is-white" style="text-align: center;">
                    <p class="subtitle" style="font-family: 'IBM Plex Mono Light'"><strong>Retrieve Documents!</strong> </p>
                    <p class="subtitle" style="font-family: 'IBM Plex Mono Light'">Please Enter Your Secret Phase Below To Retrieve The Document</p>
                </article>
            </div>
        </div>
    </div>
    <article class="tile is-child notification box" style="box-shadow: #000000 0 5px 15px; box-shadow: rgba(0, 0, 0, 0.35) 0 5px 15px;">
        <form method="post" enctype="multipart/form-data" asp-controller="Home" asp-action="DownloadFile">
            <div class="form-group">
                <div class="col-md-10">
                    <h3> Please Enter a Secret Phase</h3>
                    <input type="text" name="SecPhase" id="SecText" multiple />
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-10">

                    <input type="submit" value="Retrieve" />
                </div>
            </div>
        </form>

        <h3><strong>@TempData["Message"]</strong></h3>

    </article>

    <h3 style="color:red; visibility:hidden;" id="errorMessage"></h3>
   


</body>


<script>
    function Onclick() {   
           var textbox = document.getElementById("SecText").value;
            $.ajax({
                type: 'POST',
                url: '@Url.Action("DownloadFile","Home")',
                data: {
                    'secPhase': textbox
                }
            });
      
    }

</script>